# [åˆå¹¶Kä¸ªå·²æ’åºé“¾è¡¨](https://leetcode.com/problems/merge-k-sorted-lists/)

åˆå¹¶Kä¸ªå·²æ’åºçš„é“¾è¡¨é›†åˆï¼Œå¹¶è¿”å›ä¸ºä¸€ä¸ªé“¾è¡¨ã€‚åˆ†æå¹¶æè¿°å®ƒçš„å¤æ‚åº¦ã€‚

```
Example:

Input:
[
  1->4->5,
  1->3->4,
  2->6
]
Output: 1->1->2->3->4->4->5->6
```

## æˆ‘çš„æ€è·¯

çœ‹åˆ°è¿™ä¸ªé¢˜ç¬¬ä¸€ååº”å°±æ˜¯æƒ³åˆ°[ç¬¬21é¢˜](https://github.com/Philon/arts/tree/master/algorithm/021-merge_two_sorted_lists)ï¼Œæ‰€ä»¥ç›´æ¥âŒ˜C âŒ˜Vï¼ŒæŠŠä»£ç æ”¹æˆä¸‹é¢è¿™æ ·ï¼Œæœ¬åœ°å•å…ƒæµ‹è¯•å±…ç„¶ä¸€æ¬¡è¿‡äº†ï¼æ»¡å¿ƒæ¬¢å–œæäº¤åå‘Šè¯‰è€å­å†…å­˜æ²¡æœ‰å¯¹é½...å¦ˆä¸ªè›‹ğŸ’¢ï¼
```c
// æ­¤å¤„çœç•¥mergeTwoLists() ...
struct ListNode* mergeKLists(struct ListNode** lists, int listsSize) {
  struct ListNode* result = *lists;
  for (int i = 1; i < listsSize; i++) {
    result = mergeTwoLists(result, lists[i]);
  }

  return result;
}
```
- æ—¶é—´å¤æ‚åº¦ï¼šO(n * listsSize)ï¼Œnæ˜¯æ‰€æœ‰é“¾è¡¨é•¿åº¦ä¹‹å’Œ
- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

*åæ¥æˆ‘ä¸Šç¤¾åŒºæŸ¥äº†ä¸‹ï¼Œæ‰€è°“çš„`runtime error: member access within misaligned ...`é”™è¯¯å…¶å®æ˜¯ä¸ªå†…å­˜è®¿é—®éæ³•çš„é—®é¢˜ã€‚æˆ‘ååˆ†ä¸è¦è„¸çš„æ£æµ‹ä¸€ä¸‹ï¼šleetcodeçš„æµ‹è¯•ç”¨ä¾‹çš„å‚æ•°`lists`æ˜¯ä¸€ä¸ªæŒ‡é’ˆæ•°ç»„ï¼Œå½“ä¸”ä»…å½“`listsSize == 0`çš„æ—¶å€™ï¼Œå³å‚æ•°listsæ˜¯ä¸€ä¸ªé•¿åº¦ä¸º0çš„æ•°ç»„ï¼Œé‚£ä¹ˆ`lists[0]`åº”è¯¥æ˜¯ä¸€ä¸ªç©ºæŒ‡é’ˆï¼Ÿ*
- *æˆ‘æœ¬åœ°çš„å•å…ƒæµ‹è¯•çš„å†…å­˜åˆ†é…ç”¨`calloc()`â€”â€”`lists[0] == NULL`æˆç«‹*
- *leetcodeæœåŠ¡å™¨å¯èƒ½é‡‡ç”¨`malloc()`â€”â€”`lists[0]`æ˜¯ä¸ªéšæœºæ•°*

*ç»“æœå°±æ˜¯å¯¼è‡´åœ¨å®˜æ–¹çš„æœºå™¨ä¸Šï¼Œæˆ‘è¿”å›äº†ä¸€ä¸ªéç©º(ä½†æ˜¯æ— æ•ˆ)æŒ‡é’ˆã€‚å”‰ï¼Œè¿™é”…ï¼Œæˆ‘ä¸æƒ³èƒŒğŸ‘‹ï¼*

è§£å†³æ‰€è°“çš„å†…å­˜å¯¹é½é”™è¯¯å¾ˆç®€å•ï¼Œåœ¨å‡½æ•°æœ€å¼€å§‹åŠ ä¸€æ¡åˆ¤æ–­å³å¯ï¼š
```c
// å½“é“¾è¡¨æ•°ç»„é•¿åº¦ä¸ºé›¶æ—¶ï¼Œç¡®ä¿è¿”å›ä¸€ä¸ªç©ºæŒ‡é’ˆ
if (listsSize == 0) {
  return NULL;
}
```

å½“ç„¶ï¼Œæäº¤ä¹‹å‰æˆ‘å¿ƒé‡Œå¾ˆæ¸…æ¥šï¼Œè¿™ç§æ•ˆç‡å¤ªä½äº†ï¼Œä½†çœ‹åˆ°beats60%çš„æ—¶å€™ï¼Œå½“æ—¶æˆ‘éƒ½éœ‡æƒŠäº†â€”â€”è¿™å±Šç å†œä¸è¡Œï¼

åé¢æƒ³è¦é™ä½æ—¶é—´å¤æ‚åº¦ï¼Œåˆå°è¯•äº†å‡ ç§åŠæ³•éƒ½æ— åŠŸè€Œè¿”ï¼Œæ— å¥ˆæ‰“å¼€å®˜æ–¹è§£ç­”ï¼Œçœ‹åˆ°æœ€åä¸€ç§æ–¹æ¡ˆå°±æ˜¯â€œç›¸é‚»çš„ä¸¤å¯¹é“¾è¡¨åˆå¹¶â€ï¼Œæˆ‘æ“¦ï¼è¿™æ˜¯æˆ‘è·ç¦»æ­£ç¡®ç­”æ¡ˆæœ€è¿‘çš„ä¸€æ¬¡ğŸ˜…ï¼Œå°±è¿™ä¹ˆæ“¦èº«è€Œè¿‡ï¼Œç„¶åæœæ–­æŠŠä¸Šé¢çš„â€œä¸€ä¸€åˆå¹¶â€æ”¹æˆäº†â€œä¸¤ä¸¤åˆå¹¶â€ï¼š

```c
struct ListNode* mergeKLists(struct ListNode** lists, int listsSize) {
  int interval = 1;
  while (interval < listsSize) {
    for (int i = 0; i < listsSize; i += interval * 2) {
      struct ListNode* next = (i+interval) < listsSize ? lists[i+interval] : NULL;
      lists[i] = mergeTwoLists(lists[i], next);
    }
    interval *= 2;
  }
  
  return listsSize ? lists[0] : NULL;
}
```
- æ—¶é—´å¤æ‚åº¦ï¼šO(n * listsSize)ï¼Œnæ˜¯é“¾è¡¨æ•°ç»„å½“ä¸­æœ€é•¿çš„é‚£æ ¹
- ç©ºé—´å¤æ‚åº¦ï¼šO(1)